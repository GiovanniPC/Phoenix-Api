(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,a){e.exports=a(62)},39:function(e,t,a){},40:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(31),o=a.n(l),c=(a(39),a(1)),s=a(3),i=a(5),u=a(4),m=a(6),h=(a(40),a(12)),p=a(8),d=a(16),g=a.n(d),v=function(){function e(){var t=this;Object(c.a)(this,e),this.signup=function(e,a){return t.service.post("/signup",{username:e,password:a}).then(function(e){return e.data})},this.loggedin=function(){return t.service.get("/loggedin").then(function(e){return e.data})},this.login=function(e,a){return t.service.post("/login",{username:e,password:a}).then(function(e){return e.data})},this.logout=function(){return t.service.get("/logout",{}).then(function(e){return e.data})};var a=g.a.create({baseURL:"https://phix.herokuapp.com/api",withCredentials:!0});this.service=a}return Object(s.a)(e,[{key:"handleUpload",value:function(e){return this.service.post("/upload",e).then(function(e){return e.data})}}]),e}(),f=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).logMeOut=function(){a.service.logout().then(function(){a.props.logout(null)})},a.service=new v,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){console.log(e)}},{key:"render",value:function(){var e=this;return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement(p.b,{to:"/",className:"navbar-brand"},"Phoenix"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(p.b,{to:"",className:"nav-link"},"About Us ",r.a.createElement("span",{className:"sr-only"},"(current)"))),this.props.isLoggedIn?r.a.createElement("li",{className:"nav-item"},r.a.createElement(p.b,{to:"/",onClick:function(){return e.logMeOut()},className:"nav-link"},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(p.b,{to:"/login",className:"nav-link"},"Login")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(p.b,{to:"/signup",className:"nav-link"},"Signup"))))))}}]),t}(n.Component),b=function(){return r.a.createElement("footer",{className:"navbar sticky-bottom bg-light"},r.a.createElement("a",{href:"mailto:contact@phoenix.com",className:"navbar-item nav-link"},"contact@phoenix.com"),r.a.createElement("a",{className:"navbar-item"},"Copyright 2019. All rights reserved"))},E=function(e){return r.a.createElement("input",{placeholder:e.placeholder,className:e.className,name:e.name,type:e.type,onChange:e.onChange})},N=function(e){return r.a.createElement("button",{type:e.type,className:e.className},e.children)},C=function e(){var t=this;Object(c.a)(this,e),this.mainSearch=function(e){return console.log(e,"THIS IS THE SEARCH TERM IN AXIOSROUTES"),t.service.post("/search",{searchTerm:e}).then(function(e){return e.data})};var a=g.a.create({baseURL:"https://phix.herokuapp.com/api",withCredentials:!0});this.service=a},O=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.searchTerm;a.service.mainSearch(t).then(function(e){a.setState({searchTerm:""})}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target.value;a.setState({searchTerm:t})},a.state={searchTerm:""},a.service=new C,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement(E,{className:"form-control",type:"text",value:this.state.searchTerm,onChange:function(t){return e.handleChange(t)},placeholder:"What are you looking for?"}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement(N,{className:"btn btn-outline-primary",type:"submit"},"Search"))))}}]),t}(n.Component),y=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(O,null),r.a.createElement("h1",null,"Home"))}}]),t}(n.Component),S=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"About page"))},w=a(13),j=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password,r=a.state.role;a.service.signup(t,n,r).then(function(e){a.setState({username:"",password:"",role:""}),a.props.getUser(e)}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(w.a)({},n,r))},a.state={username:"",password:"",role:""},a.service=new v,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement(E,{placeholder:"Email",type:"email",name:"username",value:this.state.username,required:!0,onChange:function(t){return e.handleChange(t)}}),r.a.createElement(E,{placeholder:"Password",name:"password",value:this.state.password,min:"8",required:!0,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("select",{name:"role",required:!0,onChange:function(t){return e.handleChange(t)}},r.a.createElement("option",{value:""},"Select"),r.a.createElement("option",{value:"user"},"User"),r.a.createElement("option",{value:"company"},"Company")),r.a.createElement(N,{type:"submit",className:"btn btn-outline-success"},"Sign up")),r.a.createElement("p",null,"Already have an account?",r.a.createElement(p.b,{to:"/login"}," Log in")))}}]),t}(n.Component),U=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password;a.service.login(t,n).then(function(e){a.setState({username:"",password:"",redirect:!0}),a.props.getUser(e)}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(w.a)({},n,r))},a.state={username:"",password:"",redirect:!1},a.service=new v,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return this.state.redirect?r.a.createElement(h.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement(E,{placeholder:"Email",type:"email",name:"username",value:this.state.username,required:!0,onChange:function(t){return e.handleChange(t)}}),r.a.createElement(E,{placeholder:"Password",type:"password",name:"password",value:this.state.password,min:"8",required:!0,onChange:function(t){return e.handleChange(t)}}),r.a.createElement(N,{type:"submit",className:"btn btn-outline-success"},"Log in")),r.a.createElement("p",null,"Don't have an account?",r.a.createElement(p.b,{to:"/signup"}," Signup")))}}]),t}(n.Component),k=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password;a.service.signup(t,n).then(function(e){a.setState({name:"",statusProduct:"",categories:"",path:"",brand:"",model:"",starterPrice:"",clientDescription:"",imageUrl:""}),a.props.getUser(e)}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(w.a)({},n,r))},a.handleFileUpload=function(e){console.log("The file to be uploaded is: ",e.target.files[0]);var t=new FormData;t.append("imageUrl",e.target.files[0]),a.service.handleUpload(t).then(function(e){a.setState({imageUrl:e.secure_url},function(){return console.log("IMAGE",a.state.imageUrl)})}).catch(function(e){console.log("Error while uploading the file: ",e)})},a.state={name:"",statusProduct:"",categories:"",path:"",brand:"",model:"",starterPrice:"",clientDescription:"",imageUrl:""},a.service=new v,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.state.path),r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleFormSubmit,encType:"multipart/form-data"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"What do you want to do?"),r.a.createElement("select",{name:"path",required:!0,onChange:function(t){return e.handleChange(t)},className:"form-control"},r.a.createElement("option",{value:""},"Choose one"),r.a.createElement("option",{value:"Repair"},"Repair"),r.a.createElement("option",{value:"Sell"},"Sell")),r.a.createElement("label",null,"Category"),r.a.createElement("select",{name:"categories",required:!0,onChange:function(t){return e.handleChange(t)},className:"form-control"},r.a.createElement("option",{value:""},"Choose one"),r.a.createElement("option",{value:"Laptop"},"Laptop"),r.a.createElement("option",{value:"Tablet"},"Tablet"),r.a.createElement("option",{value:"Mobile"},"Mobile"),r.a.createElement("option",{value:"Consoles"},"Videogame Console"),r.a.createElement("option",{value:"TV's"},"Television"),r.a.createElement("option",{value:"Audio"},"Audio"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Product Brand"),r.a.createElement("input",{type:"text",name:"brand",className:"form-control",value:this.state.brand,required:!0,onChange:function(t){return e.handleChange(t)},placeholder:"Brand of the product"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Product"),r.a.createElement("input",{type:"text",name:"name",className:"form-control",value:this.state.name,required:!0,onChange:function(t){return e.handleChange(t)},placeholder:"Name of the product"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Model"),r.a.createElement("input",{type:"text",name:"model",className:"form-control",value:this.state.model,required:!0,onChange:function(t){return e.handleChange(t)},placeholder:"Brand of the product"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Condition"),r.a.createElement("select",{name:"statusProduct",required:!0,onChange:function(t){return e.handleChange(t)},className:"form-control"},r.a.createElement("option",{value:""},"Choose one"),r.a.createElement("option",{value:"Broken"},"Broken"),r.a.createElement("option",{value:"Semi-used"},"Semi-used"))),"Sell"===this.state.path?r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Suggested Price"),r.a.createElement("input",{type:"text",name:"starterPrice",className:"form-control",value:this.state.starterPrice,required:!0,onChange:function(t){return e.handleChange(t)},placeholder:"How much do you think your product is worth?"})):null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Description"),r.a.createElement("textarea",{className:"form-control",name:"clientDescription",value:this.state.clientDescription,required:!0,onChange:function(t){return e.handleChange(t)},placeholder:"Does your device have any problems or physical damages such as a broken screen or scuffs? Please be as specific as possible.",rows:"3"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Please upload a picture of your product"),r.a.createElement("input",{type:"file",className:"form-control-file",required:!0,onChange:function(t){return e.handleFileUpload(t)}}))))}}]),t}(n.Component),T=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).fetchUser=function(){null===a.state.loggedInUser&&a.service.loggedin().then(function(e){console.log("SETSTATE"),a.setState({loggedInUser:e})}).catch(function(e){a.setState({loggedInUser:!1})})},a.getTheUser=function(e){a.setState({loggedInUser:e})},a.state={loggedInUser:null},a.service=new v,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return this.fetchUser(),console.log("RENDER"),this.state.loggedInUser?r.a.createElement("div",{className:"App"},r.a.createElement(f,{isLoggedIn:this.state.loggedInUser,logout:this.getTheUser}),r.a.createElement("h1",null,"LOGGED IN!"),r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/",component:y}),r.a.createElement(h.b,{exact:!0,path:"/about",component:S}),r.a.createElement(h.b,{exact:!0,path:"/sell-form",component:k})),r.a.createElement(b,null)):r.a.createElement("div",{className:"App"},r.a.createElement(f,{isLoggedIn:this.state.loggedInUser,logout:this.getTheUser}),r.a.createElement("h1",null,"HELLO NOT LOGGED IN"),r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/",component:y}),r.a.createElement(h.b,{exact:!0,path:"/about",component:S}),r.a.createElement(h.b,{exact:!0,path:"/signup",render:function(){return r.a.createElement(j,{getUser:e.getTheUser})}}),r.a.createElement(h.b,{exact:!0,path:"/login",render:function(){return r.a.createElement(U,{getUser:e.getTheUser})}}),r.a.createElement(h.b,{exact:!0,path:"/sell-form",component:k})),r.a.createElement(b,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(p.a,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[34,1,2]]]);
//# sourceMappingURL=main.bb0bff40.chunk.js.map